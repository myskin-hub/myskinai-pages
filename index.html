<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AI 피부 상담</title>
</head>
<body>
  <h2>AI 피부 분석 요청</h2>
  <form id="skinForm">
    이름: <input type="text" name="name" required><br><br>
    성별: <input type="text" name="gender" required><br><br>
    나이대: <input type="text" name="ageRange" required><br><br>
    고민 부위: <input type="text" name="concernArea" required><br><br>
    현재 피부 고민: <textarea name="problemDetail" required></textarea><br><br>
    경험한 시술/제품: <textarea name="treatmentHistory"></textarea><br><br>
    기대 효과: <textarea name="expectation"></textarea><br><br>
    얼굴 사진 URL (선택): <input type="url" name="photoUrl"><br><br>
    <label>
      <input type="checkbox" name="consent" value="동의함" required> 개인정보 수집 및 AI 분석에 동의합니다
    </label><br><br>
    <button type="submit">제출</button>
  </form>

  <script>
    const form = document.getElementById('skinForm');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      const response = await fetch('https://script.google.com/macros/s/AKfycbw4e5KCCim7lTaJtNWWdJM1H6l74eb0Ib2kH5IUtTgrBM1UdgmjoqvoMMkBLYyseR5w/exec
', {
        method: 'POST',
        body: JSON.stringify(data),
        headers: { 'Content-Type': 'application/json' }
      });

      const result = await response.json();
      window.location.href = `https://script.google.com/macros/s/AKfycby-jLm162BRyLl7bivVwcHANGYc5m39Vuf_XwthEZ4jJKnRORA1BcsET0bakGTXLmJimA/exec?id=${result.id}`;
    });
  </script>
</body>
</html>
